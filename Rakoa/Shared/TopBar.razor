@inject Services.MagicSiteServices.WebsiteConfig config
@inject NavigationManager manager 

<section id="top-of-page"></section>

<div class="top-title-and-logo" @onclick="GoHome">
    <img class="logo set-symbol" src="images/set_symbol.png" />
    <h1 id="title">@config.info.websiteTitle</h1>
</div>

<div class="nav @(collapsed ? "collapsed" : "")">
    <div class="nav-item px-3">
        <NavLink class="nav-link" href="" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
            <span class="oi oi-home" aria-hidden="true"></span> @config.info.homePageLinkLabel
        </NavLink>
    </div>
    @if (config.info.mechanicsPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Mechanics" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-wrench" aria-hidden="true"></span> @config.info.mechanicsPageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.worldPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="World" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-globe" aria-hidden="true"></span> @config.info.worldPageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.draftArchetypesPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="DraftInfo" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-bar-chart" aria-hidden="true"></span> @config.info.draftArchetypesPageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.spoilerPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Spoiler" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-image" aria-hidden="true"></span> @config.info.spoilerPageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.tokenBasicSpoilerPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="TokenBasicSpoiler" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-image" aria-hidden="true"></span> @config.info.tokenBasicSpoilerPageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.playPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Play" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-loop-square" aria-hidden="true"></span> @config.info.playPageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.futurePage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Future" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-project" aria-hidden="true"></span> @config.info.futurePageLinkLabel
            </NavLink>
        </div>
    }
    @if (config.info.creditsPage)
    {
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="Credits" Match="NavLinkMatch.All" @onclick="@(e => collapsed = true)">
                <span class="oi oi-info" aria-hidden="true"></span> @config.info.creditsPageLinkLabel
            </NavLink>
        </div>
    }
</div>

<button id="nav-menu-toggle" class="buttons oi @(collapsed ? "oi-menu": "oi-x")" @onclick="@(e => collapsed = !collapsed)"></button>

@code {
    private bool collapsed = true;

    void GoHome()
    {
        manager.NavigateTo("");
    }
} 